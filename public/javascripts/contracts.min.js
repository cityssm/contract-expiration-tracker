"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),(()=>{const e=exports.urlPrefix,t=document.querySelector("#form--filters"),r=document.querySelector("#container--results"),c=()=>{r.innerHTML='<div class="has-text-centered p-4"><span class="icon"><i class="fas fa-4x fa-spinner fa-pulse" aria-hidden="true"></i></span></div>',cityssm.postJSON(e+"/contracts/doGetContracts",t,e=>{0!==e.contracts.length||(r.innerHTML='<div class="message is-info"><p class="message-body">There are no contracts available.</p></div>')})};t.addEventListener("submit",e=>{e.preventDefault()}),document.querySelector("#filters--searchString").addEventListener("change",c),document.querySelector("#filters--includeExpired").addEventListener("change",c),c(),exports.canUpdate&&document.querySelector("#button--addContract").addEventListener("click",()=>{let e;const t=e=>{e.preventDefault()};cityssm.openHtmlModal("contractAdd",{onshow:e=>{const t=exports.customizations_contractCategory_alias,r=e.querySelectorAll("[data-customization='contractCategory.alias']");for(const e of r)e.textContent=t},onshown:(r,c)=>{e=c,r.querySelector("form").addEventListener("submit",t);const n=r.querySelector("#contractAdd--contractCategoryIsNew");n.addEventListener("change",()=>{"1"===n.value?(r.querySelector("#field--contractAdd--contractCategory-existing").classList.add("is-hidden"),r.querySelector("#field--contractAdd--contractCategory-new").classList.remove("is-hidden")):(r.querySelector("#field--contractAdd--contractCategory-new").classList.add("is-hidden"),r.querySelector("#field--contractAdd--contractCategory-existing").classList.remove("is-hidden"))})}})})})();